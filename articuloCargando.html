<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Artículo Blog - Portal3.3</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="blog.css">
  <style>
    /* Estilo específico para artículo */
    .article-container {
      max-width: 900px;
      margin: 40px auto;
      padding: 20px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .article-title {
      font-size: 2em;
      margin-bottom: 10px;
      color: #2c3e50;
    }

    .article-date {
      font-size: 0.9em;
      color: #7f8c8d;
      margin-bottom: 20px;
    }

    .article-content {
      font-size: 1.1em;
      line-height: 1.6;
      color: #34495e;
    }

    .back-btn {
      display: inline-block;
      margin-top: 30px;
      padding: 10px 20px;
      background: #2980b9;
      color: #fff;
      border-radius: 8px;
      text-decoration: none;
      transition: 0.3s;
    }

    .back-btn:hover {
      background: #3498db;
    }
  </style>
</head>
<body>

  <!-- HEADER PORTAL3.3 -->
  <header id="main-header">
  <div class="container nav">
    <div class="logo">
      <img src="img/logo-portal33Logo.png" alt="Portal3.3 - Inmobiliaria">
    </div>
    <nav class="menu">
      <a href="index.html">INICIO</a>
      <a href="propiedades.html">PROPIEDADES</a>
      <a href="captacion.html">PUBLICA TU PROPIEDAD</a>
      <a href="blog.html">BLOG</a>
      <a href="notificaciones.html">NOTIFICACIONES / BÚSQUEDA</a>
    </nav>
  </div>
</header>
  <main>
    <div class="article-container">
        <h1 class="article-title" id="articleTitle">Cargando...</h1>
        <p class="article-date" id="articleDate"></p>
        <div class="article-content" id="articleContent"></div>
        <a href="blog.html" class="back-btn">← Volver al Blog</a>
    </div>
  </main>
<script>
  const BLOG_ENDPOINT = "https://script.google.com/macros/s/AKfycbz8IamMmWTHZpeCBrp_4LoOfciihQJnThGFyDPkCotBo7waK38VJz167lHsIrB1eV79mw/exec";

  // Obtener el código del artículo desde URL
  const params = new URLSearchParams(window.location.search);
  const codigo = params.get("codigo");
 

  if (!codigo) {
    document.getElementById("articleTitle").innerText = "Artículo no encontrado";
  } else {
    fetch(BLOG_ENDPOINT)
      .then(r => r.json())
      .then(data => {
        const post = data.find(p => p["CÓDIGO"]?.trim() === codigo?.trim() && String(p["Activo (si/no)"]).toLowerCase() === "si");

        if (!post) {
          document.getElementById("articleTitle").innerText = "Artículo no encontrado o inactivo";
          return;
        }

        document.getElementById("articleTitle").innerText = post["Titulo"];
        document.getElementById("articleDate").innerText = new Date(post["Fecha"]).toLocaleDateString("es-CO", { year: 'numeric', month: 'long', day: 'numeric' });
        document.getElementById("articleContent").innerHTML = post["Contenido"].replace(/\n/g, "<br>");

      })
      .catch(err => {
        console.error("Error cargando artículo:", err);
        document.getElementById("articleTitle").innerText = "Error cargando artículo";
      });
  }
</script>

<footer>
  <div class="container footer-grid">
    <div><h4>Contacto</h4><p>WhatsApp</p><p>Email</p></div>
    <div><h4>Redes</h4><p>Instagram</p><p>LinkedIn</p></div>
    <div>
    <h4>Agente</h4>
       <div class="agent-photo">
          <img src="img/Foto-perfil.png" alt="Agente">
             </div>
              <p style="margin-top:5px; font-weight:bold;">María Patricia Renta</p>
             </div>
          </div>
     <div class="footer-slogan">Conocimiento local. Estrategia inmobiliaria. Resultados reales.</div>
   </footer>





<script src="header.js"></script>
</body>
</html>

